[
  {
    "iterationIndex": 0,
    "results": [
      {
        "test": {
          "filename": "ControladorCarrito\\00-Login-Setup.bru"
        },
        "request": {
          "method": "POST",
          "url": "http://localhost:5041/api/auth/login",
          "headers": {
            "content-type": "application/json"
          },
          "data": "{\n  \"usernameOrEmail\": \"testuser\",\n  \"password\": \"User123!\"\n}"
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "headers": {
            "content-type": "application/json; charset=utf-8",
            "date": "Sat, 21 Feb 2026 17:51:14 GMT",
            "server": "Kestrel",
            "transfer-encoding": "chunked"
          },
          "data": {
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwibmFtZSI6InRlc3R1c2VyIiwiZW1haWwiOiJ0ZXN0dXNlckBkYXdhem9uLnRlc3QiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJVc2VyIiwianRpIjoiY2FmMGM1MzgtNGVjYS00YTg5LWI2YWUtMjc1ZWY5ZGZlN2ZjIiwiZXhwIjoxNzcxNjk5ODc0LCJpc3MiOiJKV1RfSVNTVUVSIiwiYXVkIjoiSldUX0FVRElFTkNFIn0.URHUWWA7EKAObLNc7_cQapMvNW9Nzf5CheD_eEdINT8"
          },
          "url": "http://localhost/api/auth/login",
          "responseTime": 62
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "Setup: Login usuario OK",
            "status": "pass",
            "uid": "krO_ZWGGZi-YVgN3cWhGQ"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.3204118,
        "name": "00-Login-Setup",
        "path": "ControladorCarrito\\00-Login-Setup",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\00b-Login-Admin-Setup.bru"
        },
        "request": {
          "method": "POST",
          "url": "http://localhost:5041/api/auth/login",
          "headers": {
            "content-type": "application/json"
          },
          "data": "{\n  \"usernameOrEmail\": \"admin@admin.com\",\n  \"password\": \"Admin123!\"\n}"
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "headers": {
            "content-type": "application/json; charset=utf-8",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "transfer-encoding": "chunked"
          },
          "data": {
            "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwibmFtZSI6IiIsImVtYWlsIjoiYWRtaW5AYWRtaW4uY29tIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiQWRtaW4iLCJqdGkiOiJmZDdmZWM5ZC1lMjMwLTRjMDEtYTUwZS1hNTUxMTViYmFkMTUiLCJleHAiOjE3NzE2OTk4NzUsImlzcyI6IkpXVF9JU1NVRVIiLCJhdWQiOiJKV1RfQVVESUVOQ0UifQ.LpowjI8DLVXiDRSMMm5MaCiaoyZAqgi79kttXaLt5oM"
          },
          "url": "http://localhost/api/auth/login",
          "responseTime": 54
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "Setup: Login admin OK (para test 07)",
            "status": "pass",
            "uid": "kW57eyD7tAMeV_t0XMkA2"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.1638737,
        "name": "00b-Login-Admin-Setup",
        "path": "ControladorCarrito\\00b-Login-Admin-Setup",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\01-GetCarrito-SinAuth.bru"
        },
        "request": {
          "method": "GET",
          "url": "http://localhost:5041/api/cart/cart",
          "headers": {
            "content-type": null
          }
        },
        "response": {
          "status": 401,
          "statusText": "Unauthorized",
          "headers": {
            "content-length": "0",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "www-authenticate": "********"
          },
          "data": "",
          "url": "http://localhost/api/cart/cart",
          "responseTime": 4
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "GET carrito sin autenticación devuelve 401",
            "status": "pass",
            "uid": "G6GvXqBvMsEXRVDNJxlIU"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.0668735,
        "name": "01-GetCarrito-SinAuth",
        "path": "ControladorCarrito\\01-GetCarrito-SinAuth",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\02-GetCarrito-ConAuth.bru"
        },
        "request": {
          "method": "GET",
          "url": "http://localhost:5041/api/cart/cart",
          "headers": {
            "Authorization": "Bearer ********",
            "content-type": null
          }
        },
        "response": {
          "status": 404,
          "statusText": "Not Found",
          "headers": {
            "content-type": "application/json; charset=utf-8",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "transfer-encoding": "chunked"
          },
          "data": {
            "message": "No se encontró carrito perteneciente al usuario con id: 4."
          },
          "url": "http://localhost/api/cart/cart",
          "responseTime": 38
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "GET carrito con token de usuario devuelve 200 o 404",
            "status": "pass",
            "uid": "9Vvf1-XDhD2oNWLunHOkF"
          },
          {
            "description": "Si hay carrito, contiene id",
            "status": "pass",
            "uid": "Ys_YDpwLs35s8TNZnrm-W"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.1714845,
        "name": "02-GetCarrito-ConAuth",
        "path": "ControladorCarrito\\02-GetCarrito-ConAuth",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\03-AddProducto-AlCarrito.bru"
        },
        "request": {
          "method": "POST",
          "url": "http://localhost:5041/api/cart/addToCart//",
          "headers": {
            "Authorization": "Bearer ********",
            "content-type": null
          }
        },
        "response": {
          "status": 404,
          "statusText": "Not Found",
          "headers": {
            "content-length": "0",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel"
          },
          "data": "",
          "url": "http://localhost/api/cart/addToCart//",
          "responseTime": 2
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "Añadir producto al carrito devuelve 200 o 404 o 409",
            "status": "pass",
            "uid": "O6WAlw3BX2fWj4O7_aib1"
          },
          {
            "description": "Si OK, respuesta contiene id del carrito",
            "status": "pass",
            "uid": "HEWvCqkY5W_eHxce5cf0H"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.0455995,
        "name": "03-AddProducto-AlCarrito",
        "path": "ControladorCarrito\\03-AddProducto-AlCarrito",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\04-AddProducto-SinAuth.bru"
        },
        "request": {
          "method": "POST",
          "url": "http://localhost:5041/api/cart/addToCart/cualquier-cart-id/cualquier-product-id",
          "headers": {
            "content-type": null
          }
        },
        "response": {
          "status": 401,
          "statusText": "Unauthorized",
          "headers": {
            "content-length": "0",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "www-authenticate": "********"
          },
          "data": "",
          "url": "http://localhost/api/cart/addToCart/cualquier-cart-id/cualquier-product-id",
          "responseTime": 2
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "Añadir producto sin auth devuelve 401",
            "status": "pass",
            "uid": "NZPIxWMhkl7f3BhcBtdd7"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.0504785,
        "name": "04-AddProducto-SinAuth",
        "path": "ControladorCarrito\\04-AddProducto-SinAuth",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\05-RemoveProducto-AlCarrito.bru"
        },
        "request": {
          "method": "POST",
          "url": "http://localhost:5041/api/cart/removeFromCart//",
          "headers": {
            "Authorization": "Bearer ********",
            "content-type": null
          }
        },
        "response": {
          "status": 404,
          "statusText": "Not Found",
          "headers": {
            "content-length": "0",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel"
          },
          "data": "",
          "url": "http://localhost/api/cart/removeFromCart//",
          "responseTime": 2
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "Eliminar producto del carrito devuelve 200 o 404",
            "status": "pass",
            "uid": "ywwUOakV9M5VlQeGwAnre"
          },
          {
            "description": "Si OK, respuesta contiene id del carrito",
            "status": "pass",
            "uid": "nPOu8fGvTS-g7IRQO-THa"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.0663233,
        "name": "05-RemoveProducto-AlCarrito",
        "path": "ControladorCarrito\\05-RemoveProducto-AlCarrito",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\06-GetCarritosPurchased-ConAuth.bru"
        },
        "request": {
          "method": "GET",
          "url": "http://localhost:5041/api/cart/purchased",
          "headers": {
            "Authorization": "Bearer ********",
            "content-type": null
          }
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "headers": {
            "content-type": "application/json; charset=utf-8",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "transfer-encoding": "chunked"
          },
          "data": {
            "content": [
              {
                "id": "CART00000001",
                "userId": 2,
                "purchased": true,
                "client": {
                  "name": "Test User",
                  "email": "user@user.com",
                  "phone": "123456789",
                  "number": 123,
                  "street": "Calle Falsa",
                  "city": "Soria",
                  "province": "Soria",
                  "country": "España",
                  "postalCode": 42001
                },
                "cartLines": [
                  {
                    "saleId": "CART00000001",
                    "productId": "PRD000000001",
                    "productName": "",
                    "quantity": 1,
                    "productPrice": 15.99,
                    "totalPrice": 15.99,
                    "status": 3,
                    "managerId": 0,
                    "managerName": "",
                    "client": {
                      "name": "Test User",
                      "email": "user@user.com",
                      "phone": "123456789",
                      "address": {
                        "number": 123,
                        "street": "Calle Falsa",
                        "city": "Soria",
                        "province": "Soria",
                        "country": "España",
                        "postalCode": 42001
                      }
                    },
                    "userId": 2,
                    "createAt": "2026-02-21T17:51:15.716492Z",
                    "updateAt": "2026-02-21T17:51:15.7165602Z"
                  },
                  {
                    "saleId": "CART00000001",
                    "productId": "PRD000000002",
                    "productName": "",
                    "quantity": 1,
                    "productPrice": 9.99,
                    "totalPrice": 9.99,
                    "status": 3,
                    "managerId": 0,
                    "managerName": "",
                    "client": {
                      "name": "Test User",
                      "email": "user@user.com",
                      "phone": "123456789",
                      "address": {
                        "number": 123,
                        "street": "Calle Falsa",
                        "city": "Soria",
                        "province": "Soria",
                        "country": "España",
                        "postalCode": 42001
                      }
                    },
                    "userId": 2,
                    "createAt": "2026-02-21T17:51:15.7166307Z",
                    "updateAt": "2026-02-21T17:51:15.7166307Z"
                  }
                ],
                "totalItems": 2,
                "total": 25.98
              }
            ],
            "totalPages": 1,
            "totalElements": 1,
            "pageSize": 10,
            "pageNumber": 0,
            "totalPageElements": 1,
            "sortBy": "id",
            "direction": "asc",
            "empty": false,
            "first": true,
            "last": true
          },
          "url": "http://localhost/api/cart/purchased",
          "responseTime": 73
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "GET carritos comprados devuelve 200",
            "status": "pass",
            "uid": "mUDa-JlOfP04cOTWSKWLf"
          },
          {
            "description": "Respuesta contiene campo content",
            "status": "pass",
            "uid": "37IVAvnKstRPHZaADXUDL"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.1304749,
        "name": "06-GetCarritosPurchased-ConAuth",
        "path": "ControladorCarrito\\06-GetCarritosPurchased-ConAuth",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\07-GetSaleLines-Admin.bru"
        },
        "request": {
          "method": "GET",
          "url": "http://localhost:5041/api/cart",
          "headers": {
            "Authorization": "Bearer ********",
            "content-type": null
          }
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "headers": {
            "content-type": "application/json; charset=utf-8",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "transfer-encoding": "chunked"
          },
          "data": {
            "content": [
              {
                "saleId": "CART00000001",
                "productId": "PRD000000001",
                "productName": "Funko Pop Iron Man",
                "quantity": 1,
                "productPrice": 15.99,
                "totalPrice": 15.99,
                "status": 3,
                "managerId": 1,
                "managerName": "",
                "client": {
                  "name": "Test User",
                  "email": "user@user.com",
                  "phone": "123456789",
                  "address": {
                    "number": 123,
                    "street": "Calle Falsa",
                    "city": "Soria",
                    "province": "Soria",
                    "country": "España",
                    "postalCode": 42001
                  }
                },
                "userId": 2,
                "createAt": "2026-02-20T17:50:58.8858707Z",
                "updateAt": "2026-02-20T17:50:58.8858731Z"
              },
              {
                "saleId": "CART00000001",
                "productId": "PRD000000002",
                "productName": "Spider-Man Comic #1",
                "quantity": 1,
                "productPrice": 9.99,
                "totalPrice": 9.99,
                "status": 3,
                "managerId": 1,
                "managerName": "",
                "client": {
                  "name": "Test User",
                  "email": "user@user.com",
                  "phone": "123456789",
                  "address": {
                    "number": 123,
                    "street": "Calle Falsa",
                    "city": "Soria",
                    "province": "Soria",
                    "country": "España",
                    "postalCode": 42001
                  }
                },
                "userId": 2,
                "createAt": "2026-02-20T17:50:58.8858707Z",
                "updateAt": "2026-02-20T17:50:58.8858731Z"
              }
            ],
            "totalPages": 1,
            "totalElements": 2,
            "pageSize": 10,
            "pageNumber": 0,
            "totalPageElements": 2,
            "sortBy": "id",
            "direction": "asc",
            "empty": false,
            "first": true,
            "last": true
          },
          "url": "http://localhost/api/cart",
          "responseTime": 82
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "GET lineas de venta como admin devuelve 200",
            "status": "pass",
            "uid": "vR6_7Llbd08Wk7FRC0WCN"
          },
          {
            "description": "Respuesta contiene campo content",
            "status": "pass",
            "uid": "lREx38DqFX-gIb8J0m0CY"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.1266554,
        "name": "07-GetSaleLines-Admin",
        "path": "ControladorCarrito\\07-GetSaleLines-Admin",
        "iterationIndex": 0
      },
      {
        "test": {
          "filename": "ControladorCarrito\\08-GetSaleLines-SinAuth.bru"
        },
        "request": {
          "method": "GET",
          "url": "http://localhost:5041/api/cart",
          "headers": {
            "content-type": null
          }
        },
        "response": {
          "status": 401,
          "statusText": "Unauthorized",
          "headers": {
            "content-length": "0",
            "date": "Sat, 21 Feb 2026 17:51:15 GMT",
            "server": "Kestrel",
            "www-authenticate": "********"
          },
          "data": "",
          "url": "http://localhost/api/cart",
          "responseTime": 1
        },
        "error": null,
        "status": "pass",
        "assertionResults": [],
        "testResults": [
          {
            "description": "GET líneas de venta sin auth devuelve 401",
            "status": "pass",
            "uid": "ZaYEi7lYWtCC_lrdFmoiV"
          }
        ],
        "preRequestTestResults": [],
        "postResponseTestResults": [],
        "shouldStopRunnerExecution": false,
        "runDuration": 0.0598895,
        "name": "08-GetSaleLines-SinAuth",
        "path": "ControladorCarrito\\08-GetSaleLines-SinAuth",
        "iterationIndex": 0
      }
    ],
    "summary": {
      "totalRequests": 10,
      "passedRequests": 10,
      "failedRequests": 0,
      "errorRequests": 0,
      "skippedRequests": 0,
      "totalAssertions": 0,
      "passedAssertions": 0,
      "failedAssertions": 0,
      "totalTests": 15,
      "passedTests": 15,
      "failedTests": 0,
      "totalPreRequestTests": 0,
      "passedPreRequestTests": 0,
      "failedPreRequestTests": 0,
      "totalPostResponseTests": 0,
      "passedPostResponseTests": 0,
      "failedPostResponseTests": 0
    }
  }
]